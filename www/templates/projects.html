<ion-view view-title="My Projects">
    <ion-nav-bar class="bar-stable">
        <ion-nav-back-button>
        </ion-nav-back-button>
        <ion-nav-buttons side="left">
            <button class="button button-icon button-clear ion-navicon menu-toggle" menu-toggle="left">
            </button>
        </ion-nav-buttons>
        <ion-nav-buttons side="right">
            <button class="button button-icon button-clear" ng-click="createNewProject()"><i class="fa fa-icon fa-plus"></i></button>&nbsp;&nbsp;
            <button class="button button-icon button-clear" ng-click="showDelete()"><i class="fa fa-icon fa-minus"></i></button>&nbsp;&nbsp;
            <button class="button button-icon button-clear" ng-click="showReorder()"><i class="fa fa-icon fa-sort"></i></button>&nbsp;&nbsp;
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content id="ProjectsList" scroll="true">
        <div class="warning" ng-if="!DATA || DATA.length < 1">
            <h1>No Projects Found.</h1>
        </div>
        <ion-list show-delete="shouldShowDelete" show-reorder="shouldShowReorder" can-swipe="listCanSwipe">
            <ion-item ng-repeat="item in DATA" class="item-thumbnail-left" href="#/app/actionplan/{{item.id}}" ng-class="item.attributes.class == 'animated bounceIn' ? 'new':''">
                <img ng-src="{{item.img}}">
                <h2>{{item.attributes.name}}</h2>  
                <p>{{item.attributes.description}}</p>
                <p class="last-updated">Last Updated: {{item.updatedAt | date:'short'}}</p>
                <div class="acl-indicator">
                    <div ng-class="item.attributes.ACL.permissionsById[CurrentUser.id].read ? 'green':'grey'">R</div>
                    <div ng-class="item.attributes.ACL.permissionsById[CurrentUser.id].write ? 'green':'grey'">W</div>
                </div>
                <ion-option-button class="button-positive" ng-click="share(item)">
                    Share
                </ion-option-button>
                <ion-option-button class="button-assertive" ng-click="deleteProject(item)" ng-if="item.attributes.ACL.permissionsById[CurrentUser.id].write">
                    Delete
                </ion-option-button>
                <ion-delete-button class="fa fa-minus-circle" ng-click="deletePlan(item,$index)">
                </ion-delete-button>
                <ion-reorder-button class="ion-navicon" on-reorder="reorderItem(item, $fromIndex, $toIndex)" ng-if="item.attributes.ACL.permissionsById[CurrentUser.id].write">
                </ion-reorder-button>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>